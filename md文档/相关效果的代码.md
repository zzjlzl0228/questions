

# 所遇效果的代码块

## 分页

> **分页思路：**
>
> 1.首先根据形参（当前所在页，总页数，总记录数，回调函数）初始化分页
> 2.对Paging的实例对象添加公共的属性和方法
>      (1)creatHtml获取当前页，总页数，总记录数，判断若当前页不是第一页，则添加首页和上一页按钮，
>    （2）判断总页数大于7时（    当前页<6 时当前页的后面显示省略号。   页码在倒数第四页时，当前页的前面显示...。 页码在中间时 ，前面显示1，... ，在寻找当前页 )
>      （3）当总页数小于6时，显示当前页，其他也正常显示，若当前页小于总页数，则添加下一页a标签，尾页，页码总数，总记录数添加
> 3.给页面添加操作事件
>    首先关闭a标签点击事件，在重新监听a标签的点击事件，获取当前元素的内容及id，对id进行判断
> （1）.id为prePage，若没传入值则pageNo就为1，否则就为传入的值-1
> （2）id为nextPage，同上，。。。。。。传入的值+1

```javascript
(function($, window, document, undefined) {
	//定义分页类
	function Paging(element, options) {
		this.element = element;
		//传入形参
		this.options = {
			//pageNo是页码，如果有就用传入的值，没有的话就是1
			pageNo: options.pageNo || 1,
			// 总共的页数
			totalPage: options.totalPage,
			// 总共的记录数
			totalSize: options.totalSize,
			// 回调函数
			callback: options.callback
		};
		//根据形参初始化分页html和css代码
		this.init();
	}
	//对Paging的实例对象添加公共的属性和方法
	Paging.prototype = {
		constructor: Paging,
		init: function() {
			this.creatHtml();
			this.bindEvent();
		},
		creatHtml: function() {
			var me = this;
			var content = "";
			var current = me.options.pageNo;
			var total = me.options.totalPage;
			var totalNum = me.options.totalSize;
			if (current !== 1) {
				content += "<a id=\"firstPage\">首页</a><a id='prePage'>上一页</a>";
			}
			//总页数大于6时候
			if (total > 7) {
				//当前页数小于5时显示省略号
				if (current < 6) {
					for (var i = 1; i < 7; i++) {
						if (current == i) {
							content += "<a class='current'>" + i + "</a>";
						} else {
							content += "<a>" + i + "</a>";
						}
					}
					content += "<a id='nextPage3'>...</a>";
					content += "<a>" + total + "</a>";
				} else {
					//判断页码在末尾的时候

					if (current < total - 3) {
						content += "<a>1</a>";
						content += "<a id='prePage3'>...</a>";
						for (var i = current - 2; i < current + 3; i++) {
							if (current == i) {
								content += "<a class='current'>" + i + "</a>";
							} else {
								content += "<a>" + i + "</a>";
							}
						}
						content += "<a id='nextPage3'>...</a>";
						content += "<a>" + total + "</a>";
						//页码在中间部分时候	
					} else {
						content += "<a>1</a>";
						content += "<a id='prePage3' >...</a>";
						for (var i = total - 5; i < total + 1; i++) {
							if (current == i) {
								content += "<a class='current'>" + i + "</a>";
							} else {
								content += "<a>" + i + "</a>";
							}
						}
					}
				}
				//页面总数小于6的时候
			} else {
				for (var i = 1; i < total + 1; i++) {
					if (current == i) {
						content += "<a class='current'>" + i + "</a>";
					} else {
						content += "<a>" + i + "</a>";
					}
				}
			}
			if (current < total) {
				content += "<a id='nextPage'>下一页</a>";
			}
			content += "<a id=\"lastPage\">尾页</a>";
			content += "<span class='totalPages'> 共<span>" + total + "</span>页 </span>";
			content += "<span class='totalSize'> 共<span>" + totalNum + "</span>条记录 </span>";
			me.element.html(content);
		},
		//添加页面操作事件
		bindEvent: function() {
			var me = this;
			me.element.off('click', 'a');
			me.element.on('click', 'a', function() {
				var num = $(this).html();
				var id = $(this).attr("id");
				if (id == "prePage") {
					if (me.options.pageNo == 1) {
						me.options.pageNo = 1;
					} else {
						me.options.pageNo = +me.options.pageNo - 1;
					}
				} else if (id == "nextPage") {
					if (me.options.pageNo == me.options.totalPage) {
						me.options.pageNo = me.options.totalPage
					} else {
						me.options.pageNo = +me.options.pageNo + 1;
					}

				} else if (id == "prePage3") {
					if (me.options.pageNo <= 3) {
						me.options.pageNo = 1;
					} else {
						me.options.pageNo = +me.options.pageNo - 3;
					}
				} else if (id == "nextPage3") {
					if (me.options.pageNo >= me.options.totalPage - 3) {
						me.options.pageNo = me.options.totalPage
					} else {
						me.options.pageNo = +me.options.pageNo + 3;
					}
				} else if (id == "firstPage") {
					me.options.pageNo = 1;
				} else if (id == "lastPage") {
					me.options.pageNo = me.options.totalPage;
				} else {
					me.options.pageNo = +num;
				}
				me.creatHtml();
				if (me.options.callback) {
					me.options.callback(me.options.pageNo);
				}
			});
		}
	};
	//通过jQuery对象初始化分页对象
	$.fn.paging = function(options) {
		return new Paging($(this), options);
	}
})(jQuery, window, document);
```

## 上下无缝滚动效果

> 逻辑：当slide滚动到顶部后，会切换到slide2下面，slide1的内容会被slide2的内容覆盖掉，当slide2滚动到顶部后会重新排到slide1后面，循环执行。

```javascript
<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<meta name="description" content="">
		<meta name="keywords" content="">
		<style>
			* {
				margin: 0;
				padding: 0
			}

			#slide {
				position: absolute;
				height: 300px;
				width: 260px;
				color: #FA8E93;
				overflow: hidden;
				border: 1px solid #ccc
			}

			#slide p {
				height: 34px;
				line-height: 34px;
				overflow: hidden
			}

			#slide span {
				float: right
			}
		</style>
	</head>
	<body>

		<div id="slide">
			<div id="slide1">
				<p><span>领取了烈焰双11礼包</span>1、dqx5***</p>
				<p><span>领取了烈焰双11礼包</span>2、s376***</p>
				<p><span>领取了街机三国双11礼包</span>3、sdk1***</p>
				<p><span>领取了烈火战神双11礼包</span>4、说好〃不沋伤</p>
				<p><span>领取了街机三国双11礼包</span>5、说好〃不沋伤</p>
				<p><span>领取了烈焰双11礼包</span>6、gao6***</p>
				<p><span>领取了街机三国双11礼包</span>7、ando***</p>
				<p><span>领取了街机三国双11礼包</span>8、6813***</p>
				<p><span>领取了烈焰双11礼包</span>9、lais***</p>
			</div>
			<div id=slide2>
				<p><span>领取了烈焰双11礼包</span>1、dqx5***</p>
				<p><span>领取了烈焰双11礼包</span>2、s376***</p>
				<p><span>领取了街机三国双11礼包</span>3、sdk1***</p>
			</div>
		</div>

		<script>
			var speed = 40
			var slide = document.getElementById("slide");
			var slide2 = document.getElementById("slide2");
			var slide1 = document.getElementById("slide1");
			slide2.innerHTML = slide1.innerHTML

			function Marquee() {
				if (slide2.offsetTop - slide.scrollTop <= 0)
					slide.scrollTop -= slide1.offsetHeight
				else {
					slide.scrollTop++
				}
			}
			var MyMar = setInterval(Marquee, speed)
			slide.onmouseover = function() {
				clearInterval(MyMar)
			}
			slide.onmouseout = function() {
				MyMar = setInterval(Marquee, speed)
			}
		</script>
	</body>
</html>
```

## 输入框

```javascript
<li>
	<div class="need">
		<div class="label"><span>所属行业</span></div>
		<div class="inputGroup area80">
			<input class="input" type="text" name="hangyename" id="hangyename" placeholder="请输入所属行业" onkeyup="noemoji(this);">
									<!-- <div class="textCount">80</div> -->
								</div>
			<div class="errorText" id="hangyenameerr" style="display:none;">
			<div class="label"></div>
			<img src="./参加热门榜单-中企品牌网_files/ts_cw_icon.png">
			<span>所属行业不能为空</span>
		</div>
	</div>
</li>
```

![1566979007755](C:\Users\NING MEI\AppData\Roaming\Typora\typora-user-images\1566979007755.png)

## 搜索框

```javascript
<form class="searchGroup" action="http://www.10pinpaiwang.com/brand/index.php?action=brandlist" method="post">
	<input type="text" name="kw" class="searching" value="" placeholder="请输入品牌名称">
		<label>
			<input type="submit" style="display: none" value="搜索">
			<div class="searchingButton">搜索</div>
		</label>
</form>
```

![1566954463416](C:\Users\NING MEI\AppData\Roaming\Typora\typora-user-images\1566954463416.png)

## 验证码

```javascript
<div class="need">
	<div class="label"><span>验证码</span></div>
	<div class="validateGroup">
		<input name="code" class="imgInput" id="captcha" type="text" value="" placeholder="请输入图片验证码" onfocus="showcaptcha();">
		<div class="img">
			<img src="./参加热门榜单-中企品牌网_files/captcha.png.php" alt="" id="captchapng" onclick="reloadcaptcha();">
			<input name="rnd" type="hidden" id="rnd" value="m44293119646918355">
			
										<div class="status"></div>
									</div>
								</div>
								<div class="errorText" style="display: flex;" id="codeerr">
								</div>
							</div>
```

```javascript
<script type="text/javascript">
function getRand() {									return 'm' + Math.random().toString().substr(2);
}
function showcaptcha() {								ischeckcaptcha = false;
	if (Dd('captchapng').style.display == 'none') {
		Dd('captchapng').style.display = '';
	}
	if (Dd('captchapng').src.indexOf('loading.gif') != -1) {
        rnd = getRand();
		Dd('rnd').value = rnd;								Dd('captchapng').src = 'http://www.10pinpaiwang.com/captcha/captcha.png.php?rnd=' + rnd;
		}
		if (Dd('captcha').value == '点击显示') {				Dd('captcha').value = '';
		}
	}

function reloadcaptch() {								ischeckcaptcha = false;
	rnd = getRand();
	Dd('rnd').value = rnd;
	Dd('captchapng').src = 'http://www.10pinpaiwang.com/captcha/captcha.png.php?rnd=' + rnd;
	Dd('ccaptcha').innerHTML = '';
	Dd('captcha').value = '';
}
function reloadcaptcha() {
	ischeckcaptcha = false;
	rnd = getRand();
	Dd('rnd').value = rnd;
	Dd('captchapng').src = 'http://www.10pinpaiwang.com/captcha/captcha.png.php?rnd=' + rnd;
	Dd('ccaptcha').innerHTML = '';
	Dd('captcha').value = '';
}

function checkcaptcha(s) {								ischeckcaptcha = false;
												//ajax判断验证码
												$.ajax({
													type: 'POST',
													url: '/captcha/captcha.check.php',
													data: {
														captcha: s,
														rnd: rnd
													},
													dataType: 'json',
													cache: false,
													async: false,
													success: function(data) {
														if (data.status == 1) {
															$('#codeerr').css('display', 'flex');
															Dd('codeerr').innerHTML =
																'<div class="label"></div><img src="http://img.10pinpaiwang.com/skin/default/brand/images/duigou.png"/><span style="color: black;">输入验证码正确</span>';
														} else {
															$('#codeerr').css('display', 'flex');
															Dd('codeerr').innerHTML =
																'<div class="label"></div><img src="http://img.10pinpaiwang.com/skin/default/brand/images/cuowu.png"/><span>输入验证码错误！</span>';
															// ischeckcaptcha=false;
															// Dd('captcha').focus;
														}
													},
													error: function(e) {
														$('#codeerr').css('display', 'flex');
														Dd('codeerr').innerHTML =
															'<div class="label"></div><img src="http://img.10pinpaiwang.com/skin/default/brand/images/cuowu.png" align="absmiddle"/><span>验证码错误</span>';
														// ischeckcaptcha=false;
														// Dd('captcha').focus;
															}
	});
	if (s.length == 0) {
		 Dd('codeerr').innerHTML = '';
	}
}
var rnd = '';
var ischeckcaptcha = false;
</script>
```

```javascript
$('#captcha').bind('input propertychange', function() {
	s = this.value
	if (s == '') {
		Dd('ccaptcha').innerHTML = '';
		return;
	} else if (s.length != 4) {
					// Dd('codeerr').innerHTML = '<div class="label"></div><img src="http://img.10pinpaiwang.com/skin/default/brand/images/cuowu.png" align="absmiddle"/><span>输入验证码错误！</span>';
	return;
	}
$.ajax({
	type: 'POST',							url:'http://www.10pinpaiwang.com/captcha/captcha.check.php',
	data: {
		captcha: s,
		rnd: rnd
	},
	dataType: 'json',
		cache: false,
		async: false,
		success: function(data) {
		if (data.status == 1) {
			Dd('codeerr').innerHTML ='<div class="label"></div>
			<img src="http://img.10pinpaiwang.com/skin/default/brand/images/duigou.png" align="absmiddle"/><span style="color: black;">输入验证码正确</span>';
												$('#captcha').removeClass('error')
		} else {
							<!-- //                    ischeckcaptcha=false; -->
							<!-- //                    Dd('captcha').focus; -->
		Dd('codeerr').innerHTML ='<div class="label"></div><img src="http://img.10pinpaiwang.com/skin/default/brand/images/cuowu.png" align="absmiddle"/><span>输入验证码错误！</span>';
		}
	},
	error: function(e) {
		Dd('codeerr').innerHTML ='<div class="label"></div><img src="http://img.10pinpaiwang.com/skin/default/brand/images/cuowu.png" align="absmiddle"/><span>输入验证码错误！</span>';
		}
	});
})


<!-- //生成验证码图片 -->
var rnd = getRand();
var s = $('#captcha').val();
Dd('rnd').value = rnd;
Dd('captchapng').src = 'http://www.10pinpaiwang.com/captcha/captcha.png.php?rnd=' + rnd;
```

### 去除输入的表情符号

```javascript
<!-- //去除输入的表情符号 -->
function noemoji(html) {
	<!-- trim() 去除字符串首尾的空格 -->
	htm = html.value.trim();
	$(html).val(htm);
	var reg =/[^\u0020-\u007E\u00A0-\u00BE\u2E80-\uA4CF\uF900-\uFAFF\uFE30-\uFE4F\uFF00-\uFFEF\u0080-\u009F\u2000-\u201f\u2026\u2022\u20ac\r\n]/g;
	if (htm.match(reg)) {
		toast('不能输入表情符号', 1000);
		htm = htm.replace(reg, '');
		// htm=jQuery.trim(htm);
		htm = htm.replace(/(^\s*)|(\s*$)/g, "");
		$(html).val(htm);
	}
}
```

## 短信验证码

```javascript
<!-- //短信验证码验证 -->
			function checksmscode() {
				var mobile = $('#mobile').val();
				var smscode = $('#smscode').val();
				var ischecksmscode = false;
				$.ajax({
					type: 'POST',
					url: '/brand/smscode.check.php',
					data: {
						mobile: mobile,
						code: smscode
					},
					dataType: 'json',
					cache: false,
					async: false,
					success: function(data) {
						if (!data.status) {
							toast('短信验证码错误', 1500);
							$('#smscodeerr').css('display', 'flex');
							ischecksmscode = false;
						} else {
							ischecksmscode = true;
						}
					},
					error: function(e) {
						ischeckcsmscode = false;
					}
				});
				return ischecksmscode;
			}
```

## 官方网站验证

```javascript
<!-- //官方网站正则验证 -->
			function checkhomepage() {
				var homepage = $('#homepage').val();
				var myreg = /^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\*\+,;=.]+$/;
				if (myreg.test(homepage)) {
					return true;
				} else {
					return false;
				}
			}
```

## 手机号验证

```javascript
<!-- //手机号正则验证 -->
<div class="modal_content">		
	<h5>绑定用户信息！</h5>
	<div>
		<label for="phone1">注册手机号：</label><br />
			<input id="phone1" type="text" autocomplete="off" placeholder="请输入已绑定的手机号"/>				
	</div> 
	<div>
		<label for="code1">验证码：</label>
		<div class="code1">
			<input id="code1" type="text" autocomplete="off" placeholder="短信验证码"/>				
			<input id="btnSendCode1" type="button" class="btn btn-default" value="获取验证码" onClick="sendMessage1()" />
		</div>				
	</div> 	
	<div class="next">  			
		<button onclick="binding()">确定</button>
	</div>
</div>	 	
<script src="http://www.jq22.com/jquery/jquery-1.10.2.js"></script>
<script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  		 
<script>
var phoneReg = /(^1[3|4|5|7|8]\d{9}$)|(^09\d{8}$)/;//手机号正则 
var count = 60; //间隔函数，1秒执行
var InterValObj1; //timer变量，控制时间
var curCount1;//当前剩余秒数
/*第一*/
function sendMessage1() {
	curCount1 = count;	
// $.trim()是jQuery提供的函数，用于去掉字符串首尾的空白字符。
	var phone = $.trim($('#phone1').val());
		if (!phoneReg.test(phone)) {
			alert(" 请输入有效的手机号码"); 
			return false;
		}
		//设置button效果，开始计时
		$("#btnSendCode1").attr("disabled", "true");
		$("#btnSendCode1").val( + curCount1 + "秒再获取");
		InterValObj1 = window.setInterval(SetRemainTime1, 1000); //启动计时器，1秒执行一次
				//向后台发送处理数据
					 
			}
function SetRemainTime1() {
	if (curCount1 == 0) {                
					window.clearInterval(InterValObj1);//停止计时器
					$("#btnSendCode1").removeAttr("disabled");//启用按钮
$("#btnSendCode1").val("重新发送");
	}else {
	curCount1--;
$("#btnSendCode1").val( + curCount1 + "秒再获取");
	}
} 
			
/*提交*/
function binding(){
	alert()
}
</script>
```

```javascript
//点击按钮，判断是否输入有效得手机号，若不是，则弹出提示框，否则得话进行倒计时
<script>
			$(".button").click(function(event) {
				var phoneReg = /(^1[3|4|5|7|8]\d{9}$)|(^09\d{8}$)/;
				//这里写发送验证码的代码
				var time = 60;
				var phone = $.trim($('.phone').val());
				if (!phoneReg.test(phone)) {
					alert(" 请输入有效的手机号码"); 
					return false;
				} else {
					settime($(this));
				}
				
				function settime(obj) {
					if (time == 0) {
						$(obj).attr('disabled', false);
						$(obj).html("点击获取验证码");
						time = 60;
						return;
					} else {
						$(obj).attr('disabled', true);
						$(obj).html(time + "秒后重新发送");
						time--;
					}
					setTimeout(function() {
						settime(obj)
					}, 1000)
				}
			});


		</script>
```



## 图片上传

```javascript
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>点击图片上传</title>
		<style type="text/css">
			#imgPreview {
				width: 40%;
				height: 180px;
				margin: 10px auto 0px auto;
				border: 1px solid black;
				text-align: center;
			}

			#prompt3 {
				width: 100%;
				height: 180px;
				text-align: center;
				position: relative;
			}

			#imgSpan {
				position: absolute;
				top: 15px;
				left: 40px;
				padding: 50px;
				border: 1px solid #CCCCCC;
			}

			.filepath {
				width: 100%;
				height: 100%;
				opacity: 0;
			}

			#img3 {
				height: 200px;
				width: 200px;
				display: none;
				position: relative;
			}
			#img5 {
				width: 30px;
				height: 30px;
				border-radius: 10px;
				margin-left: -31px;
				position: absolute;
				top: 205px;
				left: 42.5%;
				display: none;
			}
		</style>
	</head>
	<body>
		<div id="imgPreview">
			<div id="prompt3">
				<span id="imgSpan">
					点击上传
					<br />
					+
					<!--AUI框架中的图标-->
				</span>
				<input type="file" id="file" class="filepath" onchange="changepic(this)" accept="image/jpg,image/jpeg,image/png,image/PNG">
				<!--当vaule值改变时执行changepic函数，规定上传的文件只能是图片-->
			</div>
			<img src="#" id="img3" />
			<img src="img/close.png" id="img5">
		</div>
		<script src="jquery.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			function changepic() {
				// $("#prompt3").css("display", "none");
				var reads = new FileReader();
				f = document.getElementById('file').files[0];
				reads.readAsDataURL(f);
				reads.onload = function(e) {
					document.getElementById('img3').src = this.result;
					$("#img3").css("display", "block");
					$('#img5').css("display","block")
				};
			}
			$("#img5").on('click',function(){
				$("#img3").css("display", "none");
				$('#img5').css("display","none")
			})
		</script>
	</body>
</html>

```

## 字体大小随浏览器得变化而变化

- **注：**就是用rem固定字体大小，然后动态根据屏幕宽度改变html的字体大小

```javascript
<style>
     .button {
        font-size: 1.2rem;
     }
 </style>
</head>
<body>
 <div class="button">Button</div>
 <script>
      setInterval(function(){
        var html =document.querySelector('html');
        html.style.fontSize = document.body.clientWidth/30+'px';
      },10)
 </script>

//rem是根据html的字体大小变化的
//em是根据父元素来变化的
```

## 上下轮播

```javascript
$(document).ready(function() {
	
	var speed = 80
	var slide = document.getElementById('slide')
	if (!slide) return
	var slide2 = document.getElementById('slide2')
	var slide1 = document.getElementById('slide1')
	slide2.innerHTML = slide1.innerHTML

	function Marquee() {
		if (slide2.offsetTop - slide.scrollTop <= 0) {
			slide.scrollTop -= slide1.offsetHeight + 16
		} else {
			slide.scrollTop += 1
		}
	}
	var MyMar = setInterval(Marquee, speed)
	slide.onmouseover = function() {
		clearInterval(MyMar)
	}
	slide.onmouseout = function() {
		MyMar = setInterval(Marquee, speed)
	}
})
```

![1567479528397](C:\Users\NING MEI\AppData\Roaming\Typora\typora-user-images\1567479528397.png)

![1567479547963](C:\Users\NING MEI\AppData\Roaming\Typora\typora-user-images\1567479547963.png)

![1567479563642](C:\Users\NING MEI\AppData\Roaming\Typora\typora-user-images\1567479563642.png)

## tab切换

```javascript
var span = document.querySelectorAll('#tab span'),       //css选择器
    div = document.querySelectorAll('.tabpane');

for(var i=0;i<span.length;i++){                   
    //循环span标签
    span[i].idx = i;                                    
//给span一个自定义的idx属性，将I赋值进去，因为下边的循环不能直接拿到这个循环的i
    span[i].onclick = function(){
        for(var j=0;j<div.length;j++){         
            //循环div标签
            div[j].style.display = 'none';    
            //每次点击都先隐藏掉div，并移除class
            span[j].classList.remove('active');
        }
        div[this.idx].style.display = 'block';           //给当前div显示出来
        this.classList.add('active');                      //增加class
    }
}


//循环遍历中是含有参数的，index是下标
$('.list li[class="lis"]').each(function(index,item){
			$(this).hover(function(){
				$('.menuContainer').eq(index).css('display','block')
				
			})
})

//jquery
<script>
             $('ul li').click(function(event) {
                $(this).addClass('tab');
                 $(this).siblings().removeClass('tab');

                 $('.content div').eq($(this).index()).addClass('div_show');
                $('.content div').eq($(this).index()).siblings().removeClass('div_show');
           })
        </script>
```

## 动态添加li

> 1.将数据写到json文件中
>
> ```javascript
> [{
> 		"industry": "型钢行业",
> 		"day": "22",
> 		"month": "2019-08"
> 	},
> 	{
> 		"industry": "铜门行业",
> 		"day": "22",
> 		"month": "2019-08"
> 	},
> 	{
> 		"industry": "面包机行业",
> 		"day": "30",
> 		"month": "2019-07"
> 	},
> 	{
> 		"industry": "模具行业",
> 		"day": "30",
> 		"month": "2019-07"
> 	},
> 	{
> 		"industry": "校服行业",
> 		"day": "30",
> 		"month": "2019-07"
> 	},
> 	{
> 		"industry": "灯饰行业",
> 		"day": "05",
> 		"month": "2019-07"
> 	},
> 	{
> 		"industry": "保温材料行业",
> 		"day": "05",
> 		"month": "2019-07"
> 	},
> 	{
> 		"industry": "标准件行业",
> 		"day": "05",
> 		"month": "2019-07"
> 	},
> 	{
> 		"industry": "蚕丝被行业",
> 		"day": "04",
> 		"month": "2019-07"
> 	},
> 	{
> 		"industry": "钢化玻璃行业",
> 		"day": "04",
> 		"month": "2019-07"
> 	},
> 	{
> 		"industry": "调味品行业",
> 		"day": "04",
> 		"month": "2019-07"
> 	},
> 	{
> 		"industry": "大闸蟹行业",
> 		"day": "04",
> 		"month": "2019-06"
> 	}
> ]
> 
> ```
>
> 2.在html中引入json文件（与html结构在同一目录下）
>
> 3.将其中一个的结构写好，并进行克隆
>
> ```javascript
> //  获取json文件中得数据并显示在页面上
> $(document).ready(function() {
> 	$.getJSON('data.json', function(data){
> 		var $jsontip = $(".row");
> 		var strHtml = ""; //存储数据的变量
> 		$.each(data, function(infoIndex, info) {
> 	var $cell = $('.row .cell:first').clone()
> 			if (infoIndex == 0) {
> 				$jsontip.empty()
> 			}
> 										$cell.find('.logoImage img')attr('src',info["url"])
> 							$cell.find('.title').text(info.title)
> 							$cell.find('.description').text(info.description)
> 							$jsontip.append($cell)
> 			})
> 	})
> })
> ```
>
> 4.获取到json文件得数据及页数，并使用数组截取得方式显示某一页得数据
>
> ```javascript
> var $jsontip = $(".showContent");
> var strHtml = ""; //存储数据的变量
> var length = data.length;
> // 每页显示的li数
> var num = 12;
> // 多余的li数
> var num1 = length % num;
> if (num1 != 0) {
> 	page = Math.floor(length / num) + 1;
> } else {
> 	page = Math.floor(length / num)
> }
> $('.totalPages span').text(page)
> $('.totalSize span').text(length)
> ```
>
> 6.封装显示得方法
>
> ```javascript
> //  遍历获取到的json数据,并将内容填到相应位置进行显示
> function show(pageNum) {
> 	$.each(pageNum, function(infoIndex, info) {
> 		var $cell = $('.showContent li:first').clone()
> 		if (infoIndex == 0) {
> 												               $jsontip.empty()
> 		}
> 								$cell.find('.industry').text(info["industry"])
> 								$cell.find('.day').text(info.day)
> 								$cell.find('.month').text(info.month)
> 								$jsontip.append($cell)
> 							})
> 						}
> ```
>

## 分页显示数据

> 显示效果，最开始显示第一页，此时上一页按钮隐藏，当点击下一页时，显示上一页（并改变其样式），当到最后一页时，隐藏下一页按钮，到首页时，隐藏上一页按钮

```javascript
// 设置当前页(默认为0)
var currentPage = 0;
show(pageOne)
$('#prevPage').hide()
						$('#nextPage').click(function() {
	$('#prevPage').show()
	currentPage++;
	for (var i = 0; i < page; i++) {
		var pageNumber = data.slice(i * num, (i + 1) * num);
		if (i == currentPage) {
			show(pageNumber)
			// 当点击下一页时将滚动条得垂直位置变为0
			$(window).scrollTop(0);
		}
	}
	if (currentPage > 0) {
		$('#prevPage').css('background','rgba(211,20,28,1)');
								$('#prevPage').css('color', 'white');
	}
	if (currentPage >= (page - 1)) {
// $('#nextPage').css('cursor', 'not-allowed');
		$('#nextPage').hide()
	} else {
		$('#nextPage').show()
	}
})

						$('#prevPage').click(function() {
	$('#nextPage').show()
	currentPage--;

	for (var i = 0; i < page; i++) {
		var pageNumber = data.slice(i * num, (i + 1) * num);
		if (i == currentPage) {
			show(pageNumber)
            $(window).scrollTop(0);
		}
	}

	if (currentPage < (page - 1)) {
		$('#nextPage').css('background', 'rgba(211,20,28,1)');
								$('#nextPage').css('color', 'white');
	}
							
	if(currentPage<0) {
		$('#prevPage').hide()
	}else {
		$('#prevPage').show()
	}
})
```

## 使用canvas绘制图片验证码

> **:happy:html结构**
>
> ```javascript
> <a href="#" id="changeImg">
> 											<canvas class="show-captcha" id="canvas" width="150" height="40"></canvas>
> 										</a>
> ```
>
> ---
>
> 
>
> js实现过程**
>
> ```javascript
> jQuery(function($) {
> 
> 	/**生成一个随机数**/
> 	function randomNum(min, max) {
> 		return Math.floor(Math.random() * (max - min) + min);
> 	}
> 	/**生成一个随机色**/
> 	function randomColor(min, max) {
> 		var r = randomNum(min, max);
> 		var g = randomNum(min, max);
> 		var b = randomNum(min, max);
> 		return "rgb(" + r + "," + g + "," + b + ")";
> 	}
> 	var code = drawPic();
> 	document.getElementById("changeImg").onclick = function(e) {
> 		e.preventDefault();
> 		code = drawPic();
> 	}
> 	/**绘制验证码图片**/
> 	function drawPic() {
> 		var canvas = document.getElementById("canvas");
> 		var width = canvas.width;
> 		var height = canvas.height;
> 		//获取该canvas的2D绘图环境 
> 		var ctx = canvas.getContext('2d');
> 		ctx.textBaseline = 'bottom';
> 		/**绘制背景色**/
> 		// ctx.fillStyle = randomColor(180, 240);
> 		ctx.fillStyle = 'white'
> 		//颜色若太深可能导致看不清
> 		ctx.fillRect(0, 0, width, height);
> 		/**绘制文字**/
> 		var str = 'ABCEFGHJKLMNPQRSTWXY123456789';
> 		var code = "";
> 		//生成四个验证码
> 		for (var i = 1; i <= 4; i++) {
> 			var txt = str[randomNum(0, str.length)];
> 			code = code + txt;
> 			ctx.fillStyle = randomColor(50, 160);
> 			//随机生成字体颜色
> 			ctx.font = randomNum(15, 40) + 'px SimHei';
> 			//随机生成字体大小
> 			var x = 10 + i * 25;
> 			var y = randomNum(25, 35);
> 			var deg = randomNum(-45, 45);
> 			//修改坐标原点和旋转角度
> 			ctx.translate(x, y);
> 			ctx.rotate(deg * Math.PI / 180);
> 			ctx.fillText(txt, 0, 0);
> 			//恢复坐标原点和旋转角度
> 			ctx.rotate(-deg * Math.PI / 180);
> 			ctx.translate(-x, -y);
> 		}
> 
> 		/**绘制干扰线**/
> 		for (var i = 0; i < 3; i++) {
> 			ctx.strokeStyle = randomColor(40, 180);
> 			ctx.beginPath();
> 			ctx.moveTo(randomNum(0, width / 2), randomNum(0, height / 2));
> 			ctx.lineTo(randomNum(0, width / 2), randomNum(0, height));
> 			ctx.stroke();
> 		}
> 		/**绘制干扰点**/
> 		for (var i = 0; i < 50; i++) {
> 			ctx.fillStyle = randomColor(255);
> 			ctx.beginPath();
> 			ctx.arc(randomNum(0, width), randomNum(0, height), 1, 0, 2 * Math.PI);
> 			ctx.fill();
> 		}
> 		return code;
> 	}
> });
> ```
>
> ***
>

## 点击按钮添加/删除

- html结构

```javascript
<li>
	<div class="endStatus" id="appendTextarea">
		<div class="need">
			<div class="label"></div>
			<div class="appendTextarea appendTextareaDel" style="margin-right: 30px; display: none;" >
				<img src="img/del.png" >删除品牌信息
</div>
			<div class="appendTextarea appendTextareaAdd">
				<img src="img/add.png" >添加品牌信息
</div>
			</div>
		</div>
</li>
```

**html结构内只显示当前显示的元素**

- 添加点击事件（动态添加html结构）

```javascript
$('.needInputGroup').on('click', '.appendTextareaAdd', function(e) {
							// 页面中共有3个文本域,第四个文本域得出现就是点击按钮出现得添加品牌得信息
							let textareaIndex = $('.textareaGroup').length + 1
							var dom = "<li>" +
								" <div class=\"need\">" +
								"   <div class=\"label\" style=\"align-self: flex-start\">" +
								"     <input type=\"text\" placeholder='请填写标题' name=\"data[" + textareaIndex + "][name]\" class=" +
								'moreinfotitle' + textareaIndex + ">" +
								"   </div>" +
								"   <div class=\"textareaGroup area800\">" +
								"     <textarea class=\"input\" name=\"data[" + textareaIndex +
								"][content]\" placeholder='请填写详细说明'></textarea>  " +
								"   </div>" +
								" </div>\n</li>" +
								"<li id=\"appendTextarea\" class=\"endStatus\">" +
								"  <div class=\"need\">" +
								"    <div class=\"label\"></div>" +
								"    <div class=\"appendTextarea appendTextareaDel\" style=\"margin-right: 30px\">" +
								"      <img src=\"img/del.png\" alt=\"\" srcset=\"\">" +
								"      删除品牌信息" +
								"    </div>" +
								"    <div class=\"appendTextarea appendTextareaAdd\">" +
								"      <img src=\"img/add.png\" alt=\"\" srcset=\"\">" +
								"      添加品牌信息" +
								"    </div>" +
								"  </div>" +
								"</li>"
							$('#appendTextarea').after(dom)
							$('.appendTextareaAdd').css('display', 'none');
							$('.appendTextareaDel').css('display', 'flex');
							var length = $('.appendTextareaAdd').length - 1;
							$('.appendTextareaDel:first').css('display', 'none')
							$($('.appendTextareaAdd')[length]).css('display', 'flex')
							$($('.appendTextareaDel')[$('.appendTextareaDel').length - 1]).css('display', 'flex')
						})
				
```

- 删除点击事件

```javascript
$('.needInputGroup').on('click', '.appendTextareaDel', function(e) {
					$(this).parent().parent().prev().remove()
							$(this).parent().parent().remove()
	if ($('.textareaGroup').length <=3) {
								$('.appendTextareaAdd').css('display', 'flex');
	}
//永远保证最后一个末尾状态得	添加品牌信息按钮 显示				$('.endStatus:last').find('.appendTextareaAdd').css('display','flex')
							
})
```

## 点击按钮回到顶部

```javascript
$('.goTop').click(function(){					       $("body,html").animate({scrollTop:0},300);
})
```

## 品牌网中的上传证件

- 四个同样的上传图片的框框（html）

```javascript
<li>
	<div class="need">
		<div class="label">
			<span>上传证件</span>
		</div>
		<div class="needFileGroup">
			<div class="box">
				<div class="needFile">
					<div class="mark">
						<img src="img/loading.gif">
					</div>
					<div class="uploadFail">
					<img src="img/ts_cw_icon.png">
												<button type="button" class="uploadFailButton">重新上传</button>
					</div>
					<img src="img/images/close.png" class="deleteCurrentImage">
				<label>
					<img class="showImage">
					<div class="slotClass">
													<input type="hidden" name="logourl" id="logourl" class="inputvalue">
													<img src="img/camera.png">
													<div class="label">
														<span>品牌logo</span>
													</div>
													<div class="label info">图片大小在5M以内</div>
												</div>
												<input class="fileClass" type="file" id="img1" accept="image/*">
			</label>
			</div>
			<div class="needFile">
			<div class="mark">
			<img src="img/loading.gif">
			</div>
	<div class="uploadFail">
		<img src="img/ts_cw_icon.png">
												<button type="button" class="uploadFailButton">重新上传</button>
		</div>
<img src="img/images/close.png" class="deleteCurrentImage">
		<label>
			<img class="showImage">
			<div class="slotClass">
													<input type="hidden" name="logourl" id="logourl" class="inputvalue">
													<img src="img/camera.png">
													<div class="label">
														<span>营业执照</span>
													</div>
													<div class="label info">图片大小在5M以内</div>
												</div>
												<input class="fileClass" type="file" id="img2" accept="image/*">
											</label>
										</div>
										<div class="needFile">
											<div class="mark">
												<img src="img/loading.gif">
											</div>
											<div class="uploadFail">
												<img src="img/ts_cw_icon.png">
												<button type="button" class="uploadFailButton">重新上传</button>
											</div>
											<img src="img/images/close.png" class="deleteCurrentImage">
											<label>
												<img class="showImage">
												<div class="slotClass">
													<input type="hidden" name="logourl" id="logourl" class="inputvalue">
													<img src="img/camera.png">
													<div class="label">
														<span>商标注册证</span>
													</div>
													<div class="label info">图片大小在5M以内</div>
												</div>
												<input class="fileClass" type="file" id="img3" accept="image/*">
											</label>
										</div>
										<div class="needFile">
											<div class="mark">
												<img src="img/loading.gif">
											</div>
											<div class="uploadFail">
												<img src="img/ts_cw_icon.png">
												<button type="button" class="uploadFailButton">重新上传</button>
											</div>
											<img src="img/images/close.png" class="deleteCurrentImage">
											<label>
												<img class="showImage">
												<div class="slotClass">
													<input type="hidden" name="logourl" id="logourl" class="inputvalue">
													<img src="img/camera.png">
													<div class="label">
														<span>其他证件</span>
													</div>
													<div class="label info">图片大小在5M以内</div>
												</div>
												<input class="fileClass" type="file" id="img4" accept="image/*">
											</label>
										</div>
									</div>
									<div class="info">免责声明：平台可能回根据图片尺寸要求对您上传的图片进行修改</div>
								</div>
							</div>
						</li>
```

- css样式

```javascript
.formContent li .need {
	width: 100%;
	height: auto;
	display: flex;
	align-items: center;
	flex-wrap: wrap;
}

.formContent li .need .label {
	width: 134px;
	display: flex;
	align-items: center;
	font-size: 16px;
	color: rgba(51, 51, 51, 1);

}

.formContent li .need .label span {
	width: 80px;
	font-weight: 400;
	position: relative;
}

.formContent li .need .label span::after {
	content: '*';
	position: absolute;
	top: 3px;
	right: -20px;
	margin: auto;
	color: #D3141C;
	font-size: 16px;
	font-weight: 800;
}

.formContent li .need .inputGroup {
	height: 40px;
	border: 1px solid #DCDCDC;
	padding: 0 20px;
	display: flex;
	flex: 1;
	align-items: center;
	border-radius: 10px;
	background: rgba(255, 255, 255, 1);
	font-size: 14px;
	font-weight: 400;
	color: rgba(153, 153, 153, 1);
}

.formContent li .need .inputGroup input {
	width: 100%;
	border: none;
}

.formContent li .need .errorText {
	width: 100%;
	margin-top: 10px;
	display: flex;
	align-items: center;
	color: #D3141C;
}

.formContent .errorText img {
	margin-right: 10px;
	height: 20px;
	width: 20px;
}

.formContent li .need .needFileGroup {
	display: flex;
	flex: 1;
	flex-direction: column;
}

.formContent li .need .needFileGroup .box {
	width: 100%;
	display: flex;
	justify-content: space-between;
}

.formContent li .need .needFileGroup .box .needFile {
	width: 175px;
	height: 175px;
	border: 1px solid #DCDCDC;
	border-radius: 10px;
	background: rgba(251, 251, 251, 1);
	overflow: hidden;
	position: relative;
}

.formContent li .need .needFile .mark {
	width: 100%;
	height: 100%;
	display: none;
	justify-content: center;
	align-items: center;
	color: white;
	font-size: 26px;
	background: #FBFBFB;
	position: absolute;
} 
.formContent li .need .needFile .mark img {
	width: 80;
}

.formContent li .need .needFile .uploadFail {
	width: 100%;
	height: 100%;
	display: none;
	justify-content: center;
	flex-direction: column;
	align-items: center;
	position: absolute;
	font-size: 26px;
	background: #DCDCDC;
	color: white;
}
.formContent li .need .needFile .uploadFail img {
	width: 24px;
	height: 24px;
}
.formContent li .need .needFile .uploadFail .uploadFailButton {
	width: 80px;
	height: 26px;
	border: 1px solid #D3141C;
	border-radius: 20px;
	margin-left: 5px;
	margin-top: 20px;
	color: #D3141C;
	font-size: 14px;
	font-weight: 400;
}

.formContent li .need .needFile .deleteCurrentImage {
	width: 30px;
	height: 30px;
	position: absolute;
	top: 0;
	right: 0;
	display: none;
	z-index: 1;
}

.formContent li .needFileGroup label {
	height: 100%;
	display: flex;
	justify-content: center;
	align-items: center;
}

.formContent li .needFile .showImage {
	width: 100%;
	height: 100%;
	position: absolute;
	display: none;
}

.formContent li .needFileGroup label .slotClass {
	width: 100%;
	height: 100%;
	font-size: 24px;
	font-weight: 400;
	color: rgba(189, 189, 189, 1);
	display: flex;
	justify-content: center;
	align-items: center;
	flex-direction: column;
}

.formContent li .needFile .slotClass img {
	width: 30px;
	height: 28px;
	margin-bottom: 20px;
}

.formContent li .needFile .slotClass .label {
	width: auto !important;
}

.formContent li .needFile .slotClass .info {
	padding-top: 20px;

	font-size: 14px;
	font-weight: 400;
	color: rgba(189, 189, 189, 1);
}

.formContent li .need .needFile .slotClass .label span::after {
	right: -13px;
}

.formContent li .needFileGroup .info {
	width: 100%;
	padding-top: 20px;
	font-size: 14px;
	font-weight: 400;
	color: rgba(189, 189, 189, 1);
}

.formContent li .need .fileClass {
	position: absolute;
	top: 0;
	bottom: 0;
	left: 0;
	right: 0;
	cursor: pointer;
	display: none;
}
```

- js

```javascript
$('.fileClass').on('change', function() { 
    //当chooseImage的值改变时，执行此函数
	
    var filePath = $(this).val(), 
        //获取到input的value，里面是文件的路径
        fileFormat=filePath.substring(filePath.lastIndexOf(".")).toLowerCase(),
	src = window.URL.createObjectURL(this.files[0]); //转成可以在本地预览的格式
					
					// 检查是否是图片
	if (!fileFormat.match(/.png|.jpg|.jpeg/)) {
		error_prompt_alert('上传错误,文件格式必须为：png/jpg/jpeg');
		return;
	} else {
						$(this).parent().find($('.showImage')).css('display', 'block');
						$(this).parent().find($('.showImage')).attr('src', src);
						$(this).parent().parent().find($('.deleteCurrentImage')).css('display','flex')
						$(this).parent().find($('.slotClass')).css('display','none')
		}
	});
				
				$('.deleteCurrentImage').click(function(){
	$('.showImage').hide();
										        $('.slotClass').css('display','flex')
					$('.deleteCurrentImage').css('display','none')
})
```

## 点击关闭按钮缩小到右上角

- html结构

```javascript
<div class="center-img">
	<img src="img/images/home_tc.png">
	<img src="img/images/home_tc_btn.png" class="view-btn">
	<img src="img/images/close-icon.png" class="close-btn">
</div>


<div class="top-img">
	<img src="img/images/home_tc_img.png">
</div>
```

- css样式

```javascript
.center-img {
	z-index: 666;
	width: 938px;
	height: 899px;
	margin: auto;
	position: absolute;
	top: 0;
	left: 0;
	bottom: 0;
	right: 0;
}
.center-img img:first-child {
	animation: remove 2s linear infinite;
}
.view-btn {
	width: 194px;
	height: 60px;
	margin: auto;
	position: absolute;
	bottom: 170px;
	left: 398px;
	animation: rotation 2s linear infinite;
}

.close-btn {
	width: 30px;
	height: 30px;
	position: absolute;
	top: 261px;
	right: 135px;
}


.top-img {
	position: fixed;
	top: -300px;
	right: 20px;
}
.top-img img {
	width: 300px;
	height: 256px;
}
```

- 实现动画

```javascript
@keyframes remove{
	0%{
		transform: translateY(-50px);
	}
	50%{
		transform: translateY(0px);
	}
	100%{
		transform: translateY(-50px);
	}
}
@keyframes rotation{
	0%{
		transform: scale(1);
	}
	50% {
		transform: scale(1.2);
	}
	100%{
		transform: scale(1);
	}
}


```

由大变小的动画

```javascript
@-webkit-keyframes big-small {
  0% {
    -webkit-transform: scale(1);
  }

  100% {
    -webkit-transform: scale(.1);
    opacity: 0;
    top: -600px;
    right: -1300px;
  }
}
```

顶部图片的动画效果

```javascript
@keyframes clockMove {
  30% {
    transform: rotate(0deg);
    top: -10px;
  }

  50.5% {
    transform: rotate(15deg);
    top: -10px;
  }

  75.5% {
    transform: rotate(-15deg);
    top: -10px;
  }

  85% {
    transform: rotate(10deg);
    top: -10px;
  }

  95% {
    transform: rotate(-10deg);
    top: -10px;
  }

  100% {
    transform: rotate(0deg);
    top: -10px;
  }
}
```

点击事件

```javascript
$('.close-btn').click(function() {
	$('.center-img').css('-webkit-animation', 'big-small 1s linear')
});
			
// 当动画执行完毕后
$('.center-img').on('animationend webkitAnimationEnd',function(e){
	$('.center-img').css('display','none')
	$('.top-img').css('-webkit-animation','clockMove 5s linear normal')
})
			
$('.top-img').on('animationend webkitAnimationEnd',function(e){
	$('.top-img').css('top','-10px')
	$('.top-img').css('-webkit-animation','')
				
})
	

// 点击跳转页面
$(".view-btn").click(function() {
	window.open("views/index.html")
})
$(".top-img").click(function() {
	window.open("views/index.html")
})
```

## 鼠标进入修改对应的图片并滑动显示隐藏内容

- **html内容结构**

```javascript
<div class="fourth-div clearfix">
	<div class="con">
		<div class="title-img"></div>
		<div class="img-text">
			<div class="imgs">
			<img src="../img/images/1.png" class="main-img">
			<div class="mask">
				<span class="span-title needEllipsis">“壮丽70年·奋斗新时代” 我们从这里出发</span>
				<span class="pages">1/6</span>
			</div>
		</div>
		<div class="text">
            
            //重点在此处可自定义属性并获取，使用js去替换
			<div class="text_menu" datasrc="../img/images/1.png" data-num="1/6">
								<div class="left_red"></div>
								<h2>
									<a href="#">“壮丽70年·奋斗新时代” 我们从这里出发</a>
								</h2>
								<div class="description" style="display: none;">
									<p>
										1949年的三月，在成功指挥“三大战役”、胜利召开党的七届二中全会后，毛泽东主席带领中共中央从西柏坡启程，踏上“进京赶考”之路。临行前，毛泽东说我们都希望考个好成绩。在2016年庆祝中国共产党成立95周年大会上，习近平总书记指出，60多年的实践证明，我们党在这场历史性考试中取得了优异成绩。同时，这场考试还没有结束，还在继续。
									</p>
									<p>
										为更好地传承革命精神，继续做好新时代“考试”的答卷，全面启动庆祝新中国成立70周年新闻宣传，中宣部28日在河北西柏坡举行“壮丽70年·奋斗新时代”大型主题采访活动启动仪式。全国近百家媒体的新闻记者以及部分高校学生等约300人参加了仪式。仪式后，数百位新闻人将从西柏坡出发奔赴全国各地蹲点调研采访，不忘初心、牢记使命，谱写出无愧于时代的亮丽答卷。
									</p>
								</div>
							</div>
							<div class="text_menu" datasrc="../img/images/2.png" data-num="2/6">
								<div class="left_red"></div>
								<h2>
									<a href="#">《体育强 中国强—庆祝新中国成立70周年体育事业发展成就展》开幕</a>
								</h2>
								<div class="description" style="display: none;">
									<p>
										第二届全国青年运动会(以下简称“二青会”)于8月8日晚在山西太原正式开幕。开幕式前夕， 由国家体育总局主办的《体育强 中国强—庆祝新中国成立70周年体育事业发展成就展》在山西省体育中心主体育场正式开幕。
									</p>
									<p>
										国家体育总局局长苟仲文，山西省政府副省长张复明，国家体育总局副局长高志丹，国家体育总局副局长李颖川，国家体育总局副局长李建明，中央纪委国家监委驻体育总局纪检监察组组长习骅等领导嘉宾出席开幕式，开幕式由国家体育总局宣传司司长涂晓东主持。
									</p>
								</div>
							</div>
							<div class="text_menu" datasrc="../img/images/3.png" data-num="3/6">
								<div class="left_red"></div>
								<h2>
									<a href="#">讲述亲历故事 见证辉煌历程——国际人士谈新中国70年发展成就</a>
								</h2>
								<div class="description" style="display: none;">
									<p>
										中国在短短几十年里所实现的发展，在人类历史上是绝无仅有的。中国在实现自身发展的同时，也改变了世界。在发展过程中，中国虽然面临众多挑战，但都能以充满智慧的方式加以解决并获得长足进步。我相信，中国将会继续给我带来一个又一个惊喜。
									</p>
									<p>
										从少年时起，我就与中国开始了奇妙的缘分。11岁时，我酷爱打乒乓球，并在法国一场全国性乒乓球大赛中获得冠军。当时，中国对我来说还是一个遥远的国家，但中国乒乓球运动员已是我心目中的“超级英雄”。上高中时，一位老师向我推荐了杜甫、李白、王维等唐代诗人的诗歌。唐诗优雅的韵味和中国文化之美深深吸引了我，我开始自学中文。
									</p>
								</div>
							</div>
							<div class="text_menu" datasrc="../img/images/4.png" data-num="4/6">
								<div class="left_red"></div>
								<h2>
									<a href="#">历史昭示未来——写在北平和平解放70周年之际</a>
								</h2>
								<div class="description" style="display: none;">
									<p>隆冬时节的华北大地，寒气袭人，滴水成冰。</p>
									<p>2019年1月11日，北京市级行政中心正式迁入北京城市副中心。北京迈入了新的历史篇章。
									</p>
									<p>1月18日上午，习近平总书记乘车前往北京城市副中心考察。这是近5年来，习近平总书记第三次考察北京。
									</p>
									<p>习近平总书记强调，要把规划执行好、落实好，把蓝图变为实景，使北京城市副中心成为这座千年古都又一张靓丽的城市名片。</p>
								</div>
							</div>
							<div class="text_menu" datasrc="../img/images/5.png" data-num="5/6">
								<div class="left_red"></div>
								<h2>
									<a href="#">以优异成绩迎接新中国成立70周年——写在十三届全国人大二次会议闭幕之际</a>
								</h2>
								<div class="description" style="display: none;">
									<p>新华社社评：以优异成绩迎接新中国成立70周年——写在十三届全国人大二次会议闭幕之际</p>
									<p>信心在春天激荡，力量在心中澎湃。十三届全国人大二次会议即将圆满完成各项议程胜利闭幕。近3000名全国人大代表履职尽责，为发展谋大计，为兴业献良策，汇聚起同心共筑中国梦的磅礴力量。</p>
									<p>这是一次发扬民主、提振信心、凝心聚力的盛会。会议期间，习近平等党和国家领导同志参加代表团审议，与代表们深入交流、共商国是。从阐明生态文明建设“四个一”的重要意义，强调“脱贫攻坚越到最后时刻越要响鼓重锤”</p>
								</div>
							</div>
							<div class="text_menu" datasrc="../img/images/6.png" data-num="6/6">
								<div class="left_red"></div>
								<h2>
									<a href="#">亿万人民的奋斗史诗——献给共和国70年光辉历史的创造者</a>
								</h2>
								<div class="description" style="display: none;">
									<p>70年，最深刻的变化在于人，最持久的动力源于人。</p>
									<p>今天的中国，国内生产总值比新中国成立初期的1952年增长175倍，多项经济指标居世界首位，综合国力和国际影响力实现历史性跨越。</p>
									<p>西方媒体曾评价，中国奇迹的出现，源于那里有世界上“最勤奋的人”。2009年，美国时代周刊史无前例地把“中国工人”选为年度人物，以示致敬。</p>
									<p>披荆斩棘，敢为人先，中国人民用一股子闯劲开启发展新征程——</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
```

- **css样式**

```javascript
.fourth-div {
	width: 100%;
	height: 748px;
	background: url(../img/images/daodu.png) no-repeat;
	background-size: cover;
}

.fourth-div .con {
	width: 1200px;
	margin: auto;
	height: 100%;
}

.fourth-div .con .title-img {
	width: 552px;
	height: 105px;
	margin: auto;
	background: url(../img/images/zty_lzdx_img@2x.png) no-repeat;
	background-size: cover;
	margin-top: 48px;
	margin-bottom: 72px;
}

.fourth-div .con .img-text {
	display: flex;
	justify-content: space-around;
}

.fourth-div .con .img-text .imgs {
	position: relative;
	margin-right: 33px;
}

.fourth-div .con .img-text .imgs img {
	width: 532px;
	height: 424px;
}

.fourth-div .con .img-text .imgs .mask {
	width: 100%;
	height: 56px;
	background: rgba(0, 0, 0, .5);
	line-height: 56px;
	position: absolute;
	bottom: 0;
	font-size: 16px;
	color: white;
	padding-left: 15px;
	border-radius: 0px 0px 4px 4px;
}

.fourth-div .con .img-text .imgs .mask .span-title {
	width: 330px;
	font-weight: bold;
	display: inline-block;
}

.needEllipsis {
	white-space: nowrap;
	text-overflow: ellipsis;
	overflow: hidden;
}

.pages {
	float: right;
	margin-right: 10px;
}

.fourth-div .img-text .text {
	width: 643px;
	height: 424px;
}

.fourth-div .img-text .text .text_menu {
	position: relative;
}

.fourth-div .img-text .text .text_menu .left_red {
	width: 9px;
	height: 9px;
	background: #D62F2C;
	position: absolute;
	top: 10px;
	transform: rotate(45deg);
}

.fourth-div .img-text .text .text_menu h2 {
	font-size: 16px;
	font-weight: 800;
	color: #333333;
	font-family: Source Han Sans CN;
	margin-bottom: 15px;
	padding-left: 15px;
}
.fourth-div .img-text .text .text_menu h2:hover a {
	color: #D62F2C;
}
.fourth-div .img-text .text .text_menu .description {
	border-bottom: 2px solid #D62F2C;
	margin-bottom: 20px;
}

.fourth-div .img-text .text .text_menu .description p {
	font-size: 14px;
	font-weight: 400;
	color: #333333;
	line-height: 19px;
	font-family: Source Han Sans CN;
	padding-left: 10px;
	margin-bottom: 20px;
}
```

- **js实现**(自己写的)

```javascript
// 立足当下 实现鼠标进入当前标题,标题显示红色,并显示相对应的内容,及相对应的图片,相对应的页数
				$('.text_menu h2').hover(function(){
					// 在显示相对应的描述时需将其他的描述都隐藏,在显示当前的描述
					$(this).parent().siblings().find('.description').css('display','none')
					// $(this).parent().find('.description').css('display','block');
	// 滑动显示隐藏元素				$(this).parent().find('.description').slideDown("1500");
					// 获取当前的text_menu中添加的自定义属性值datasrc(图片路径),data-num(页码值),
					var src = $(this).parent().attr('datasrc')
					var num = $(this).parent().attr('data-num')
					// 获取当前标题的内容
					var title = $(this).text()
					$(this).parent().parent().parent().find('.main-img').attr('src',src)
					$(this).parent().parent().parent().find('.pages').text(num)
					$(this).parent().parent().parent().find('.span-title').text(title)
					
					if( $(this).parent().find('.description').css('display') == 'block'){
						// 
						$(this).parent().siblings().find('h2 a').css('color','#333333')
						$(this).find('a').css('color','#D62F2C')
					}
				})
```

- 简单写法

```java
$(function() {
	// 鼠标移入移出方法
	$('.has_menu').hover(function() {
		$(this).find('.describe').stop();
		$('.has_menu .describe').css("display","none")
		$(this).find('.describe').slideDown("1500");
		$('.has_menu .describe').parent().find("h2").css("color","#333333")
		// 鼠标移入改变h2的颜色
		$(this).find('.describe').parent().find("h2").css("color","#D2211E")


		// 更换左边的图片，文字，页码
		$('.main-img').attr('src',$(this).attr("data-src"))
		$('.pages').text($(this).attr("data-num"))
		$('.span-title').text($(this).find('h2').text())

	}, function() {

		if($(this).find('.describe').css('display') == "block"){
			$(this).find('.describe').parent().find("h2").css("color","#D2211E")
		}

	});



	$(window).scroll(function() {
		$(this).scrollTop() > 50
			? $('.zhiding').css('opacity', '1')
			: $('.zhiding').css('opacity', '0')
	})


	// 置顶按钮
	$('.zhiding').click(function() {
		$('html,body').animate({
			scrollTop: 0
		},222)
	})

})

```

## echarts图表获取数据

```javascript
<div id="fengsu" style="width: 100%;height:400px;"></div>
```

```javascript
//使用ajax获取数据
<script>
      <!--页面刷新的时候执行 -->
       $(function(){
           setFsChartBar();
       });
      function setFsChartBar(url){
           var Chart=echarts.init(document.getElementById("fengsu"));//初始化
           //用户等待
           Chart.showLoading(
               {text: 'Loding...'  }
            );
            //自定义变量
            var times=[];
            var legend=[];
            var chartDatas = [];
            var nodeid = ${nodeid};        
            getData(Chart,nodeid); //先执行一次，以防等十秒后才出现图表
            setInterval(function(){//定时器
                getData(Chart, nodeid); 
            }, 10*1000);//每隔10秒刷新一次               
     }
    //获取数据的方法
    function getData(Chart,nodeid){
        //发送Ajax请求
    $.ajax({
            url : "/echarts/getFsLinechart",
            dataType:"json",
            data:{nodeid:nodeid},
            type:'post',
            success:function(json){//
                console.log("获取图表数据");
                console.log(json);
                times = json.times;  //拿到后台的数据
                legend = json.legend;
                chartDatas = json.chartDatas;   //拿到后台的数据
                var option = {
                    title: {
                        text: '风速统计'
                     },
                       
                     tooltip: {
                        trigger: 'axis'
                    },
                       
                     legend: {
                           data:legend
                       },
                       
                       grid: {
                        left: '3%',
                        right: '4%',
                        bottom: '3%',
                        containLabel: true
                    },
                    toolbox: {
                        feature: {
                            saveAsImage: {}
                        }
                    },
                    
                      xAxis: {
                        type: 'category',
                        boundaryGap: false,
                        data:times
                    },
                       
                    yAxis: {
                            type: 'value'
                        },
                       series : chartDatas  
                   };
                   //结束
                    Chart.hideLoading();
                       Chart.setOption(option);  
                       }
                   });
             }
</script>
```

**highchart**

![1569558552897](C:\Users\NING MEI\AppData\Roaming\Typora\typora-user-images\1569558552897.png)

## 显示当前时间

```javascript
function getNow(s) {
return s < 10 ? '0' + s: s;
}

var myDate = new Date();             

var year=myDate.getFullYear();        //获取当前年
var month=myDate.getMonth()+1;   //获取当前月
var date=myDate.getDate();            //获取当前日


var h=myDate.getHours();              //获取当前小时数(0-23)
var m=myDate.getMinutes();          //获取当前分钟数(0-59)
var s=myDate.getSeconds();

var now=year+'-'+getNow(month)+"-"+getNow(date)+" "+getNow(h)+':'+getNow(m)+":"+getNow(s);
```

### 1s刷新一次

```javascript
setTimeout(function(){
window.location.reload();//刷新当前页面.
},2000)

//若想只刷新数据，需在定时器内执行一次上面得获取时间函数


window.location.reload();//刷新当前页面.
parent.location.reload()//刷新父亲对象（用于框架）
opener.location.reload()//刷新父窗口对象（用于单开窗口）
top.location.reload()//刷新最顶端对象（用于多开窗口）
```

## echarts图表动态获取数据

#### 点击按钮切换数据

```javascript
<script type="text/javascript">	
	function loadTwoLine() {
		var myChart = echarts.init(document.getElementById('main-three'));
colors = ['#3F53FE', '#F42281', '#3096DB', '#B231CD'];
				// 显示标题，图例和空的坐标轴
		myChart.setOption({
			color: colors,
			tooltip: {
				trigger: 'axis',
			},
		
			legend: {
				x: 'center',
				y: 'bottom',
				data: ["one", "two", "three", "four"],
				textStyle: {
					color: ['#3F53FE', '#F42281', '#3096DB', '#B231CD']
				}
			},
			grid: {
				top: 70,
				bottom: 80
			},
			xAxis: [{
				type: 'category',
				axisTick: {
					alignWithLabel: true,
					inside: true,
					length: 5
				},
				axisLine: {
					onZero: false,
					lineStyle: {
						color: '#675bba'
					}
				},
				axisPointer: {
					label: {
						formatter: function(params) {
return '积分  ' + params.value +
											(params.seriesData.length ? '：' + params.seriesData[0].data : '');
						}
					}
				},
							// data: ["09-21", "09-22", "09-23", "09-24", "09-25", "09-26"],
				data: []
		},
{
	type: 'category',
	axisTick: {
		alignWithLabel: true
	},
	axisPointer: {
		label: {
			formatter: function(params) {
				return '积分  ' + params.value +
											(params.seriesData.length ? '：' + params.seriesData[0].data : '');
			}
		}
	}
}
],
yAxis: [{
	type: 'value',
	axisTick: {
		alignWithLabel: true,
		inside: true,
		length: 1
	},
	axisLine: {
		onZero: false,
		lineStyle: {
			color: '#675bba'
		}
	},
	name: ''
}],
series: [{
	name: 'one',
	type: 'line',
	xAxisIndex: 1,
	smooth: true,
	itemStyle: {
		normal: {
			color: '#3F53FE',
		}
	},
	symbol: 'circle',
	data: [],
},
{
	name: 'two',
	type: 'line',
	smooth: true,
	itemStyle: {
		normal: {
			color: '#F42281'
		}
	},
	symbol: 'circle',
		data: []
	},
	{
		name: 'three',
		type: 'line',
		smooth: true,
		itemStyle: {
			normal: {
				color: '#3096DB'
			}
		},
		symbol: 'circle',
		data: []
	},
	{
		name: 'four',
		type: 'line',
		smooth: true,
		itemStyle: {
			normal: {
				color: '#B231CD',
			}
		},
		symbol: 'circle',
		data: []
	}
]
});
myChart.showLoading(); //数据加载完之前先显示一段简单的loading动画
var names = []; //类别数组（实际用来盛放X轴坐标值）    
var series1 = [];
var series2 = [];
var series3 = [];
var series4 = [];
$.ajax({
	type: 'get',
	url: 'personData.json', //请求数据的地址
	dataType: "json", //返回数据形式为json
	success: function(result) {
		var length = result.day.length;
		var n = length - 1
//请求成功时执行该函数内容，result即为服务器返回的json对象           bianli(result,n);
		// 点击前一天的按钮
		$('.prev').click(function() {
							n--;
							if (n <= 0) {
								n=0;
								$('.prev').css('opacity', '.3')
								$('.after').css('opacity', '1')
							} else {
								
								$('.after').css('opacity', '1')
								$('.prev').css('opacity', '1')
							}
							bianli(result, n);
						});

						// 点击后一天的按钮
						$('.after').click(function() {
							n++;
							if (n >= length - 1) {
								n = length - 1;
								$('.after').css('opacity', '.3')
								$('.prev').css('opacity', '1')
							} else {
								
								$('.prev').css('opacity', '1')
								$('.after').css('opacity','1')
							}
							bianli(result, n);

						})
						
					},
					error: function(errorMsg) {
						//请求失败时执行该函数
						alert("图表请求数据失败!");
						myChart.hideLoading();
					}
				});
				function bianli(result,n){
					var names = []; //类别数组（实际用来盛放X轴坐标值）    
					var series1 = [];
					var series2 = [];
					var series3 = [];
					var series4 = [];
					$.each(result.day[n].one, function(index, item) {
						names.push(item.AREA); //挨个取出类别并填入类别数组
						series1.push(item.LANDNUM);
					});
					$.each(result.day[n].two, function(index, item) {
						series2.push(item.LANDNUM);
					});
					$.each(result.day[n].three, function(index, item) {
						series3.push(item.LANDNUM);
					});
					$.each(result.day[n].four, function(index, item) {
						series4.push(item.LANDNUM);
					});
					myChart.hideLoading(); //隐藏加载动画
					myChart.setOption({ //加载数据图表
						xAxis: {
							data: names
						},
						series: [{
					ata: series1
							},
							{
								data: series2
							},
							{
								data: series3
							},
							{
								data: series4
							}
					
						]
					});
				}
			};
			loadTwoLine()
		</script>
```

## 改变单选框得样式

```javascript
.select-bottom input[type="radio"] {
	display: inline-block;
	vertical-align: middle;
	width: 20px;
	height: 20px;
	-webkit-appearance: none;
	background-color: transparent;
	border: 0;
	outline: 0 !important;
	line-height: 20px;
	color: #4ba1de;
	margin-right: 10px;
}

.select-bottom input[type="radio"]:after {
	content: "";
	display: block;
	width: 20px;
	height: 20px;
	border-radius: 50%;
	text-align: center;
	line-height: 14px;
	font-size: 16px;
	color: #fff;
	border: 3px solid #ddd;
	background-color: #fff;
	box-sizing: border-box;
	position: absolute;
	top: 8px;

}

.select-bottom [type="radio"]:checked:after {
	background-color: #fff;
	border: 5px solid #4ba1de;
	background-clip: content-box;
}
```

### html结构

```javascript
<div class="select-deadline">
			<div class="select-content">
				<div class="jump-top">
					<div class="blueLine"></div>
					<div class="jump-text">选择期限</div>
				</div>
				<div class="select-bottom">
					<form action="" method="get">
						<ul>
							<li>
								<input name="deadline" type="radio" checked="checked" />
								<label style="margin-right: 110px;">1天=188元 </label>
								<input name="deadline" type="radio" /><label>3天=568元 </label>
							</li>
							<li>
								<input name="deadline" type="radio" /><label>7天=5288元 </label>
								<input name="deadline" type="radio" /><label>15天=2688元 </label>
							</li>
							<li>
								<input name="deadline" type="radio" /><label>30天=5288元 </label>
							</li>
							<li>
								<p>最快可为您安排至2019.08.21-2019.08.27</p>
							</li>
						</ul>
						
						
					</form>
				</div>
			</div>
		</div>
```

#### 获取被选中得单选框得value值

```javascript
var deadLine = $('input:radio[name="deadline"]:checked').val()
// 必须存在value值，否则打印出来结果为on
```

## 循环swiper

```javascript
//.container为每个轮播容器得类名
$(".container").each(function() {
	var that = $(this).find('.swiper-container')
	var swiper = new Swiper(that, {
		slidesPerView: 'auto',
		loopedSlides: 4,
		navigation: {
		nextEl: $(this).find('.swiper-button-next'),
		prevEl: $(this).find('.swiper-button-prev'),
		}
	});
});
```

## echarts折线统计图

### 动态获取数据

##### 思路

- 将选好的折线统计图的基本样式写成一个函数，将其中要获取的数据写成参数传进去(x轴的坐标值，series中要传入的数据)

```javascript
function loadOneLine2(myChart, arr, names) {

				// colors = ['#4ba1de', '#8d3137', '#d9398c', '#a239d9', '#5039d9', '#39d7d9', '#39d9a2', '#3dd939', '#d0d764',
				// 	'#f0a709'
				// ];
				// 显示标题，图例和空的坐标轴
				myChart.setOption({
					color: colors,
					tooltip: {
						trigger: 'axis',
					},

					legend: {
						x: 'center',
						y: 'bottom',
					},
					grid: {
						top: 50,
						bottom: 60,
						left: 50,
						right: 50
					},
					xAxis: [{
							name: '天数',
							type: 'category',
							axisTick: {
								show: false
							},
							axisLine: {
								onZero: false,
								lineStyle: {
									color: '#675bba'
								}
							},
							axisPointer: {
								label: {
									formatter: function(params) {
										return $(".active").text() + params.value;
									}
								}
							},
							data: names
						},
						{
							type: 'category',
							axisTick: {
								alignWithLabel: true

							},

							axisPointer: {
								label: {
									formatter: function(params) {
										return $(".active").text() + params.value;
									}
								}
							}
						}
					],
					yAxis: [{
						name: '金额',
						type: 'value',
						axisTick: {
							show: false
						},
						axisLine: {
							onZero: false,
							lineStyle: {
								color: '#675bba'
							}
						},
					}],
					series: arr
				});

			}
```

- 使用ajax向后台发送请求获取数据

```javascript
function ajaxGet(day, leibie) {
var names = [];
var arr = [];
$.ajax({
	type: 'get',
	url: 'http://123.56.31.131:811/api/ceshi.php', //请求数据的地址
	dataType: "json", //返回数据形式为json
	data: {
		day: day,
		leibie: leibie
	},
	async: false, //异步请求
	success: function(result) {
colors = ['#4ba1de', '#8d3137', '#d9398c', '#a239d9', '#5039d9', '#39d7d9', '#39d9a2', '#3dd939', '#d0d764','#f0a709'];
   // 遍历后台数据对象中的day 其中的key值就是day下的名称，可以直接替换到name    
	for (var key in result.day) {
        //遍历day对象中的数据，其中i为下表，item为data对象中的数据项
		$.each(result.day, function(i, item) {
            // 用于存放日期
			var arr4 = [];
            //用于存放指数的数据
			var arr5 = [];
            //判断i的值是否等于key值，等于的话直接循环出当前可以值得数据及日期
			if (i === key) {
				$.each(item, function(key, value) {
					arr5.push(value.date)
					arr4.push(value.zhishu)
				})
				names.push(arr5)
                // json为series得数据项，将其中得要更写活得数据写成变量接收
				json = {
					name: key,
					type: 'line',
					smooth: true,
					itemStyle: {
					normal: {
						color: colors[n]
					}
				},
				symbol: 'circle',
				data: arr4
				}
		}
})
		arr.push(json)
						}
var length = Object.keys(result.day).length;
var n = length - 1
//获取最后得日期
day = names[0][names[0].length - 1];
						return day;
					},
					error: function(errorMsg) {
						//请求失败时执行该函数
						alert("图表请求数据失败!");
						myChart.hideLoading();
					},
				});
				var ret = new Array();
				ret.push(arr)
				ret.push(names)
				return ret;
			}
```

- layui日期

![1570849557083](C:\Users\NING MEI\AppData\Roaming\Typora\typora-user-images\1570849557083.png)

```javascript
function layDate(day) {
				layui.use(['form', 'laydate', 'jquery', 'layer'], function() {
					var form = layui.form;
					var laydate = layui.laydate;
					var $ = layui.$;
					var layer = layui.layer;
					laydate.render({
						elem: '#test',
						type: 'date',
						value: day,
						isInitValue: true,
						done: function(value, date, endDate){
							
							load(value,$(".active").text())
						}
					});
				})
			}
```

- 过程（获取折线图得容器->发送请求，->获取数据->绘制折线图）

```javascript
function load(year, leibie) {
var myChart = echarts.init(document.getElementById('main'));
		myChart.showLoading();
				// 发送ajax请求
    //此时得shuju是一个数组，存放得分别是names与arr两个数组
		var shuju = ajaxGet(year, leibie)
		loadLine(myChart, shuju[0], shuju[1][0])
		myChart.hideLoading()
}
```

- 类别点击按钮获取类名，获取被选中得文本，重新渲染

```javascript
$('.button').click(function(index, item) {
				$(this).parent().find('.button').removeClass('active')
				$(this).addClass('active')
				leibie = $(".active").text()
				load(day, leibie);
			})
```

- 点击前一天按钮(首先获取当前得时间，点击前一天按钮要减一天，然后在重新渲染，并在日期那儿显示当前得日期)

```javascript
$('.prev').click(function() {
				var time1 = new Date(day).getTime() - (60*60*24*1000)  
				var timestamp = new Date(time1);
				var date = timestamp.toLocaleDateString().replace(/\//g, "-")
day = getNewDate(date)
				 //直接用 new Date(时间戳) 格式转化获得当前时间

				// console.log(time2)
				// day=>时间戳=>时间戳减一天=>day的形式
				load(day, leibie);
				//console.log(day)
				layDate(day)
			});
```

- 点击后一天按钮同上

```javascript
$('.after').click(function() {
var time2 = new Date(day).getTime() + (60*60*24*1000)  
var timestamp = new Date(time2);
var date = timestamp.toLocaleDateString().replace(/\//g, "-")
day = getNewDate(date)
load(day, leibie);
layDate(day)
})
```

- 将2019-4-5的格式改为2019-04-05

```javascript
function getNewDate(str) {
				/^([0-9]*)\-([0-9]*)\-([0-9]*)$/.exec(str);
				return (RegExp.$1 + (RegExp.$2.length < 2 ? "-0" : "-") + RegExp.$2 + (RegExp.$3.length < 2 ? "-0" : "-") + RegExp.$3);
			}
```

- 一进去首先执行一次

```javascript
$(function() {
	var myDate = new Date;
	var year = myDate.getFullYear(); //获取当前年
	var mon = myDate.getMonth() + 1; //获取当前月
	var date = myDate.getDate(); //获取当前日
	var time = year + "-" + mon + "-" + date;
	day = time;
	load(day, leibie);
	layDate(time)
			})
```

## 判断滚轮滑动事件

```javascript

var moveWheel1 = true;
    var moveWheel2 = false;
    var wheelClock;
    function stopWheel(){
        if(moveWheel2 == true){
            console.log("滚轮停止了");
            moveWheel2 = false;
            moveWheel1 = true;
            //这里写停止时调用的方法
        }
    }
    function moveWheel(){
        if(moveWheel1==true){
            console.log("滚动了");
            moveWheel1 = false;
            moveWheel2 = true;
           //这里写开始滚动时调用的方法
            wheelClock = setTimeout(stopWheel,200);
        }
        else {
            clearTimeout(wheelClock);
            wheelClock = setTimeout(stopWheel,150);
        }
    }
document.addEventListener('wheel', moveWheel, false);

```





